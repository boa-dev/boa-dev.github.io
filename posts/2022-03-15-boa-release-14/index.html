<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Boa release v0.14 - Boa</title>
    <meta name="description" content="The blog and website for Boa">
    <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml" />
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/center-img.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="canonical" href="https://boa-dev.github.io/posts/2022-03-15-boa-release-14/">
    <link rel="shortcut icon" href="/favicon.ico">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@boa_engine" />
    <meta name="twitter:title" content="" />
    
    <meta name="twitter:description" content="The blog and website for Boa" />
    
    <meta name="twitter:url" content="/posts/2022-03-15-boa-release-14/">
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
    <noscript>
        <style>
            .site-switch-theme {display:none;}
        </style>
    </noscript>
</head>


  <body>

    <header class="site-header">
  <script type="text/javascript">
    // By calling this on DOM Ready rather than window.load means we should have our
    // preferred color and classes set before the user sees the page (no flash)
    document.addEventListener("DOMContentLoaded", () => {
      detectColorScheme();
    });

    function applyTheme() {
      const checkbox = window.document.getElementById("toggleTheme");
      window.document.getElementsByTagName(
        "html"
      )[0].className = window.document.getElementById("toggleTheme").checked
        ? "dark"
        : "default";
      localStorage.setItem(
        "theme",
        window.document.getElementsByTagName("html")[0].className
      );
    }

    //determines if the user has a set theme
    function detectColorScheme() {
      let theme = "default"; //default to light

      //local storage is used to override OS theme settings
      if (localStorage.getItem("theme")) {
        theme = localStorage.getItem("theme");
      } else if (!window.matchMedia) {
        //matchMedia method not supported
        return false;
      } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        //OS theme setting detected as dark
        theme = "dark";
      }

      //dark theme preferred, set document with a `data-theme` attribute
      window.document.getElementsByTagName("html")[0].className = theme;
      localStorage.setItem("theme", theme);
      if (theme === "dark") {
        window.document.getElementById("toggleTheme").checked = true;
      }
    }
  </script>
  <div class="wrapper">
    <a class="site-title" href="/"
      ><img id="site-logo" src="/images/logo.png" /> Boa</a
    >

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path
            fill="#424242"
            d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"
          />
          <path
            fill="#424242"
            d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"
          />
          <path
            fill="#424242"
            d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"
          />
        </svg>
      </a>

      <div class="trigger">
        <a href="/about">About</a> |
        <a href="https://github.com/boa-dev/boa">Github</a> |
        <a href="https://boa-dev.github.io/boa/dev/bench/">Benchmarks</a> |
        <a href="https://boa-dev.github.io/boa/test262/">Conformance</a> |
        <a href="https://boa-dev.github.io/boa/">Playground</a> |
        <a href="https://boa-dev.github.io/boa/doc/boa/index.html">Docs</a>
      </div>
    </nav>
    <!-- <label class="site-switch-theme">
      <input type="checkbox" id="toggleTheme" onclick="applyTheme()">
      <span class="slider"></span>
    </label> -->
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Boa release v0.14</h1>
    <p class="post-meta">Mar 15, 2022 â€¢ Boa Developers</p>
  </header>

  <article class="post-content">
    <h2>Summary</h2>
<p>Boa v0.14 is here! After almost 6 months of development, we are very happy to present you the newest release of the Boa
JavaScript engine. Boa makes it easy to embed a JS engine in your projects, and you can even use it from webassembly. See
the <a href="/about">about</a> page for more info. Together with this release, we present you: A new way to contribute to Boa, a virtual machine, usable examples and much more.</p>
<p>Boa currently supports part of the JavaScript language. In this release, our conformance has grown from 41.01% to 48.72 %
in the official ECMAScript Test Suite (Test262). The engine now passes 43,039 tests, coming from 33,192 in Boa 0.13
(29.7% increase), and we have closed 36 issues and merged 112 pull requests. You can check the full list of changes
<a href="https://github.com/boa-dev/boa/blob/v0.14/CHANGELOG.md">here</a>, and the full information on conformance
<a href="https://boa-dev.github.io/boa/test262/">here</a>.</p>
<h2>Boa has moved</h2>
<p>First off, some breaking changes!
Boa is now <code>boa_engine</code> on crates.io. This should bring it in line with our other packages, and allows us to resolve the casing issue we had with Boa previously. It should just be a case of changing your dependencies in cargo.toml to the new destination. The old <code>Boa</code> crate will no longer recieve any updates.</p>
<h2>New ECMAScript features</h2>
<p>Boa v0.14 now adds support for <code>AggregateError</code>, <code>Typed Arrays</code>, <code>Proxy</code>, <code>toLocaleString()</code>, <code>DataView</code>, <code>Symbol.prototype.valueOf</code>, <code>Array.prototype.at()</code> and <a href="https://github.com/boa-dev/boa/blob/v0.14/CHANGELOG.md">more</a>. There's also been serveral bug fixes and internal improvements, such as <a href="https://github.com/boa-dev/boa/pull/1684">switching to Bors</a> for our CI management.</p>
<h2>Writing a VM</h2>
<p>The biggest change in this release has definitely been the switch of the main implementation to a Virtual Machine. The
JavaScript code first gets parsed into AST, then compiled into op-codes, and finally executed in the VM. This adds some
extra steps, which, for now, have reduced the performance of the engine. We hope to fix some of these degradations over the course of the next few releases so hang tight. The new VM opens the door for many great features in the future (we're looking at you, async/await), and allows some nicer optimizations in the parsing and compilation phases in which we have already started working (such as <a href="https://github.com/boa-dev/boa/pull/1829">#1829</a> and
<a href="https://github.com/boa-dev/boa/pull/1849">#1849</a>).</p>
<p>This move towards a VM has also brought one great new feature, generator execution (<a href="https://github.com/boa-dev/boa/pull/1790">#1790</a>).</p>
<p><img src="/images/2022-03-15/boa_architecture.png" alt="img"></p>
<h2>String interning</h2>
<p>@Razican has done some great work on the string interner for Boa. Interning allows many types to not contain heap-allocated strings, and just contain a <code>NonZeroUsize</code> instead, which can then be placed onto the stack.</p>
<p>TODO: @Razican can we add more here?</p>
<p><a href="https://github.com/boa-dev/boa/pull/1765#issuecomment-1019474176">Benchmarks</a> improved overall.</p>
<h2>Boa opens financial contributions</h2>
<p>In the past months, due to the big and steady progress on Boa, we have received multiple requests to contribute to Boa
financially. From now on, anyone can contribute with either a recurring donation, or a one-time contribution in our
<a href="https://opencollective.com/boa">OpenCollective page</a>.</p>
<h3>What does this mean for Boa?</h3>
<p>Being able to receive financial contributions won't directly show a change in Boa development, but depending on how much
funding we get, we are already planning next steps. Having more motivated contributors would be the first step. We all
want to spend more of our free time in boa, and receiving a financial compensation for it is definitely making the team
members eager to continue contributing.</p>
<p>But that is not our only idea. We would like to create a reproducible benchmarking platform. Currently, we just use GitHub
actions for benchmarking, which is useful to get some general ideas on how some changes affect the performance of the
engine. However, they have a high variability (up to 10%), meaning that we can definitely see changes if they are big, but it's
impossible to see differences if changes are minimal (1-2%, for example). Having the infrastructure to do proper performance
testing would require using dedicated CPUs, for example, which could be financed using the Boa Open Collective.</p>
<p>On the development side, there are some very big projects that require deep involvement from the team. Having
<a href="https://github.com/boa-dev/boa/projects/3">async/await support</a>, or implementing the
<a href="https://github.com/boa-dev/boa/issues/64">module system</a> is one of our priorities, and blocks much of our conformance.
Implementing a <a href="https://github.com/boa-dev/boa/discussions/1531">proper API</a> for Rust crates that want to embed Boa as they
like, or a <a href="https://github.com/boa-dev/boa/issues/332">C API</a> so that other software, not written in Rust, can use Boa,
are also a priority, and implementing all the new built-in objects to achieve 100% conformance with the ECMAScript
specification is also a must. All this takes time, and we will need to finance developers working on these big issues.</p>
<h3>Can I contribute differently?</h3>
<p>If financial contribution is not your strength, you can contribute by asking to be assigned to one of our
<a href="https://github.com/boa-dev/boa/issues?q=is%3Aopen+is%3Aissue+no%3Aassignee">open issues</a>, and asking for mentoring if you
don't know your way around the engine. Our <a href="https://github.com/boa-dev/boa/blob/main/CONTRIBUTING.md">contribution guide</a>
should help you here. If you are more used to working with JavaScript or frontend web development, we also
welcome help to improve our web presence, either in <a href="https://github.com/boa-dev/boa-dev.github.io">our website</a>, or in
our <a href="https://github.com/boa-dev/boa/issues/820">testing representation</a> page or benchmarks page. You can also contribute to
our Criterion benchmark comparison GitHub <a href="https://github.com/boa-dev/criterion-compare-action">action</a>.</p>
<p>We are also looking to improve the documentation of the engine, both for developers of the engine itself and for users of the
engine. Feel free to contact us in <a href="https://discord.gg/tUFFk9Y">Discord</a>.</p>
<h3>Thank You</h3>
<p>Last but certainly not least, a big <strong>Thank You</strong> to the countributors of Boa, especially to all the new contributors we had since the last release.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/boa-dev">
              <span class="icon icon--github">
                <svg viewBox="0 0 16 16">
                  <path
                    fill="#828282"
                    d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"
                  />
                </svg>
              </span>

              <span class="username">boa-dev</span>
            </a>
          </li>
           
          <li>
            <a href="https://twitter.com/boa_engine">
              <span class="icon icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path
                    fill="#828282"
                    d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"
                  />
                </svg>
              </span>

              <span class="username">boa_engine</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <p class="text">The blog and website for Boa</p>
      </div>

      <div class="footer-col footer-col-1">
        <div class="toggle-mode">
          <div class="icon">
            <i class="font font-sun-o" aria-hidden="true"></i>
          </div>
          <div class="toggle-switch">
            <label class="switch" title="Toggle Light/Dark Mode">
              <input
                type="checkbox"
                role="switch"
                id="toggleTheme"
                onclick="applyTheme()"
              />
              <div class="slider round"></div>
            </label>
          </div>
          <div class="icon">
            <i class="font font-moon-o" aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>

</html>
