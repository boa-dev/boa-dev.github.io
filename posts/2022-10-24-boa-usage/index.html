<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Adding a JavaScript interpreter to your Rust project - Boa</title>
    <meta name="description" content="The blog and website for Boa">
    <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml" />
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/center-img.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="canonical" href="https://boa-dev.github.io/posts/2022-10-24-boa-usage/">
    <link rel="shortcut icon" href="/favicon-32x32.png">
    <meta property="og:image" content="/images/logo.png" />
    <meta property="og:description" content="The blog and website for Boa" />
    <meta property="og:title" content="" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@boa_engine" />
    <meta name="twitter:title" content="" />
    
    <meta name="twitter:description" content="The blog and website for Boa" />
    
    <meta name="twitter:url" content="/posts/2022-10-24-boa-usage/">
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
    <noscript>
        <style>
            .site-switch-theme {display:none;}
        </style>
    </noscript>
</head>


  <body>

    <header class="site-header">
  <script type="text/javascript">
    // By calling this on DOM Ready rather than window.load means we should have our
    // preferred color and classes set before the user sees the page (no flash)
    document.addEventListener("DOMContentLoaded", () => {
      detectColorScheme();
    });

    function applyTheme() {
      const checkbox = window.document.getElementById("toggleTheme");
      window.document.getElementsByTagName(
        "html"
      )[0].className = window.document.getElementById("toggleTheme").checked
        ? "dark"
        : "default";
      localStorage.setItem(
        "theme",
        window.document.getElementsByTagName("html")[0].className
      );
    }

    //determines if the user has a set theme
    function detectColorScheme() {
      let theme = "default"; //default to light

      //local storage is used to override OS theme settings
      if (localStorage.getItem("theme")) {
        theme = localStorage.getItem("theme");
      } else if (!window.matchMedia) {
        //matchMedia method not supported
        return false;
      } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        //OS theme setting detected as dark
        theme = "dark";
      }

      //dark theme preferred, set document with a `data-theme` attribute
      window.document.getElementsByTagName("html")[0].className = theme;
      localStorage.setItem("theme", theme);
      if (theme === "dark") {
        window.document.getElementById("toggleTheme").checked = true;
      }
    }
  </script>
  <div class="wrapper">
    <a class="site-title" href="/"
      ><img id="site-logo" src="/images/logo.png" /> Boa</a
    >

    <nav class="site-nav">
      <div class="trigger">
        <a href="/about">About</a> |
        <a href="https://github.com/boa-dev/boa">Github</a> |
        <a href="https://boa-dev.github.io/boa/dev/bench/">Benchmarks</a> |
        <a href="https://boa-dev.github.io/boa/test262/">Conformance</a> |
        <a href="https://boa-dev.github.io/boa/playground">Playground</a> |
        <a href="https://boa-dev.github.io/boa/doc">Docs</a>
      </div>
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Adding a JavaScript interpreter to your Rust project</h1>
    <p class="post-meta">Oct 24, 2022 â€¢ Boa Developers</p>
  </header>

  <article class="post-content">
    <h2>Introduction</h2>
<p>When we develop tools for our users, we sometimes want to give them some form of control over how
they work. This is common in games, where we can add scripting for our users to be able to create
extensions, or even for business tools, where we allow our customer to change or extend the
behaviour of our platform. For those cases, using Rust, a compiled, type safe language can be a
challenge, since once a program has been compiled, it's tricky to change or extend it at runtime.
Furthermore, many of our users will prefer to use a more common scripting language, such as
JavaScript.</p>
<p>This is where Boa enters the scene. Boa is a Javascript engine fully written in Rust. Currently, it
can be used in places where you need most of the JavaScript language to work, even though, we would
advise to wait to get all our <a href="https://github.com/orgs/boa-dev/projects/2/views/1">known blocker bugs</a> solved before using this for critical
workloads. You can check how conformant we are with the official ECMAScript specification
<a href="https://boa-dev.github.io/boa/test262/">here</a>.</p>
<p>And, before going further, we would like to mention that you can contribute to Boa by solving one
of the <a href="https://github.com/boa-dev/boa/issues?q=is%3Aopen+is%3Aissue+label%3A%22help+wanted%22%2CHacktoberfest%2CE-Easy%2C%22good+first+issue%22+no%3Aassignee">issues</a> where we need special help, and we now also accept financial contributions
in <a href="https://opencollective.com/boa">our OpenCollective</a> page.</p>
<p><em>Note: You can see more examples of integrating Boa in <a href="https://github.com/boa-dev/boa/tree/main/boa_examples">our repository</a>.</em></p>
<h2>Starting from scratch</h2>
<p>Let's start a new project running <code>cargo new my_project</code>, and then add <a href="https://crates.io/crates/boa_engine"><code>boa_engine</code></a> as one
of our dependencies by running <code>cargo add boa_engine -F console</code> in our newly created <code>my_project</code>
directory.</p>
<p>Let's start by adding the minimal code needed to get a JavaScript interpreter working in our
<code>src/main.rs</code> file:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span></span><span class="token class-name">Context</span><span class="token punctuation">;</span><br><br><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> js_code <span class="token operator">=</span> <span class="token string">"console.log('Hello World from a JS code string!')"</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Instantiate the execution context</span><br>    <span class="token keyword">let</span> <span class="token keyword">mut</span> context <span class="token operator">=</span> <span class="token class-name">Context</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Parse the source code</span><br>    <span class="token keyword">match</span> context<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span>js_code<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token class-name">Ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token comment">// Pretty print the error</span><br>            <span class="token macro property">eprintln!</span><span class="token punctuation">(</span><span class="token string">"Uncaught {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>As you can see in this example, when working with Boa, you will have to use a <a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html"><code>Context</code></a>,
which will be in charge of initializing all the internals and built-in objects (such as <code>Date</code>,
<code>Promise</code> and so on). The <code>Context</code> in Boa is also your go-to place for configuring your interpreter
as you wish. You can add custom global functions, objects, and anything you might imagine. It's also
one of the arguments you will receive if you create a Rust function and expose it to JavaScript, and
with it, you will be able to throw errors, modify the global object and return values to JavaScript.</p>
<p>Talking about values, Boa comes with its built-in <a href="https://docs.rs/boa_engine/latest/boa_engine/enum.JsValue.html"><code>JsValue</code></a> type. This enumeration
represents any JavaScript value that can, for example, be assigned to a variable. And, before you
ask, you can convert it to and from a <a href="https://docs.rs/serde_json/latest/serde_json/value/enum.Value.html"><code>serde_json::Value</code></a>, of course, by using the
<a href="https://docs.rs/boa_engine/latest/boa_engine/enum.JsValue.html#method.from_json"><code>JsValue::from_json()</code></a> and <a href="https://docs.rs/boa_engine/latest/boa_engine/enum.JsValue.html#method.to_json"><code>JsValue::to_json()</code></a> methods.</p>
<p>As you can see in those methods, or in the <code>Context::eval()</code> that we used earlier, you will
receive a <code>JsResult</code> as a response. This result type will contain a <code>JsValue</code> as its error variant,
which means you can return the error back to JavaScript for it to handle it. A <code>JsValue</code>, internally,
is a garbage-collected JavaScript value. But, isn't Rust one of the few non-garbage collected
languages? Wasn't that a good thing?</p>
<p>The answer is <em>yes, of course</em>, but JavaScript requires a garbage collector. This garbage collector
makes sure that all values are freed when they are no longer needed. It also makes a <code>JsValue</code>
extremely cheap to clone, independently of its contents.</p>
<p>If you run this example code with <code>cargo run</code>, you will notice that it will print the message sent
to <code>console.log()</code>, and it will also print <code>undefined</code> at the end. This last <code>undefined</code> is part of
the <code>Ok(res)</code> branch in the <code>match</code>, which prints the result of the execution. In this case, the
result of the execution is the result of the last statement, which is the <code>console.log()</code>, and this
statement returns <code>undefined</code>.</p>
<h2>But, what can you do with Boa?</h2>
<p>Let's start with the basics. Of course, you can execute JavaScript code. This code can be any
string or directly a byte vector (so you can load files and use them directly). You can use
<a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.eval"><code>Context::eval()</code></a> in both cases, as you saw before, and you can also use
<a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.parse"><code>Context::parse()</code></a>, which will give you a <a href="https://docs.rs/boa_engine/latest/boa_engine/syntax/ast/node/statement_list/struct.StatementList.html"><code>StatementList</code></a> that
you can use multiple times in <a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.compile"><code>Context::compile()</code></a>, so that you don't need to
parse the same code more than once. The compiled source code can also be executed multiple times,
since it's <a href="https://docs.rs/boa_engine/latest/boa_engine/vm/struct.CodeBlock.html"><code>CodeBlock</code></a> is garbage collected, and therefore it can be cheaply cloned.
In order to execute a code block you will need to use <a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.execute"><code>Context::execute()</code></a>.</p>
<p>This in itself is good enough to provide a simple scripting API for your project, but where Boa
really shines is in the ability to inter-operate Rust and JavaScript. Let's start with a simple
example: exposing a Rust function to JavaScript. A JavaScript-compatible Rust function must have
the <a href="https://docs.rs/boa_engine/latest/boa_engine/builtins/function/type.NativeFunctionSignature.html"><code>NativeFunctionSignature</code></a> signature:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token namespace">builtins<span class="token punctuation">::</span></span><span class="token class-name">JsArgs</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">,</span> <span class="token class-name">JsResult</span><span class="token punctuation">,</span> <span class="token class-name">JsValue</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">/// Says "hello" using the first argument.</span><br><span class="token keyword">fn</span> <span class="token function-definition function">say_hello</span><span class="token punctuation">(</span>_this<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">JsValue</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">JsValue</span><span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token class-name">JsValue</span><span class="token operator">></span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> name <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">get_or_undefined</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span> name<span class="token punctuation">.</span><span class="token function">is_undefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello {}!"</span><span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">JsValue</span><span class="token punctuation">::</span><span class="token function">undefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre>
<p>The <a href="https://docs.rs/boa_engine/latest/boa_engine/builtins/trait.JsArgs.html"><code>JsArgs</code></a> trait allows you to retrieve a value if the function received it, or set it
to the <code>undefined</code> value, if not. Then, in this case, it will convert the name to a <code>JsString</code>
before printing it, since we might be receiving an object, a symbol, a boolean... one of the perks
of dynamic typing. This will then print the result in th standard output using the common
<code>println!()</code> macro in Rust. It will just return an undefined value.</p>
<p>You can register this function in the context by adding this line after the context creation (and
before executing any JS) in the <code>main()</code> function:</p>
<pre class="language-rust"><code class="language-rust">context<span class="token punctuation">.</span><span class="token function">register_global_builtin_function</span><span class="token punctuation">(</span><span class="token string">"say_hello"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> say_hello<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This will register it as a global function, with the <code>say_hello()</code> name, and with a <code>length</code> of 1
(which indicates the number of arguments that it receives by default). You can then try it out by
modifying the JavaScript string:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> js_code <span class="token operator">=</span> <span class="token string">r#"say_hello("Rust");"#</span><span class="token punctuation">;</span></code></pre>
<p>The <code>r#&quot;...&quot;#</code> syntax is a Rust raw <a href="https://doc.rust-lang.org/rust-by-example/std/str.html#literals-and-escapes">string literal</a>.</p>
<p>You can also add any <code>JsValue</code> as a property to the global object by using the
<a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.register_global_property"><code>Context::register_global_property()</code></a> function:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span>property<span class="token punctuation">::</span></span><span class="token class-name">Attribute</span><span class="token punctuation">;</span><br><br>context<span class="token punctuation">.</span><span class="token function">register_global_property</span><span class="token punctuation">(</span><span class="token string">"MY_PROJECT_VERSION"</span><span class="token punctuation">,</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span> <span class="token class-name">Attribute</span><span class="token punctuation">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>And you can use it in JavaScript:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">say_hello</span><span class="token punctuation">(</span><span class="token constant">MY_PROJECT_VERSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The <a href="https://docs.rs/boa_engine/latest/boa_engine/property/struct.Attribute.html"><code>Attribute</code></a> of a property indicates if it will be writable (it can be set and
modified), enumerable (it can be used in <code>for..in</code> statements) and configurable (its attributes or
type of property can be modified).</p>
<h2>Integrating a full Rust data structure</h2>
<p>Sometimes, adding a function or a single <code>JsValue</code> to the global scope of your JavaScript context
is not enough, and you want to enable the full power of Rust with its structures to handle more
complex scenarios. This can be achieved using the <a href="https://docs.rs/boa_engine/latest/boa_engine/class/trait.Class.html"><code>Class</code></a> trait. This has to be combined
with two other traits, that make any Rust object be garbage-collected: <a href="https://docs.rs/boa_gc/latest/boa_gc/trait.Trace.html"><code>Trace</code></a> and
<a href="https://docs.rs/boa_gc/0.16.0/boa_gc/trait.Finalize.html"><code>Finalize</code></a>, in the <a href="https://crates.io/crates/boa_gc"><code>boa_gc</code></a> crate. Luckily those two traits can be derived.</p>
<p>Let's start by implementing a <code>Person</code> type, that will showcase the potential of this API. Let's
run <code>cargo add gc boa_gc</code> and add some code:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_gc<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Finalize</span><span class="token punctuation">,</span> <span class="token class-name">Trace</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token attribute attr-name">#[derive(Debug, Trace, Finalize)]</span><br><span class="token keyword">struct</span> <span class="token type-definition class-name">Person</span> <span class="token punctuation">{</span><br>    <span class="token comment">/// The name of the person.</span><br>    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span><br>    <span class="token comment">/// The age of the person.</span><br>    age<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>Then, we will move the <code>say_hello()</code> function to be a static method of <code>Person</code>:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">impl</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>    <span class="token comment">/// Says "hello" using the name and the age of a `Person`.</span><br>    <span class="token keyword">fn</span> <span class="token function-definition function">say_hello</span><span class="token punctuation">(</span>this<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">JsValue</span><span class="token punctuation">,</span> _args<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">JsValue</span><span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token class-name">JsValue</span><span class="token operator">></span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> this <span class="token operator">=</span> this<br>            <span class="token punctuation">.</span><span class="token function">as_object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">and_then</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>obj<span class="token closure-punctuation punctuation">|</span></span> obj<span class="token punctuation">.</span><span class="token function">downcast_ref</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword">Self</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">ok_or_else</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> context<span class="token punctuation">.</span><span class="token function">construct_type_error</span><span class="token punctuation">(</span><span class="token string">"`this` is not a `Person` object"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello {}-year-old {}!"</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>age<span class="token punctuation">,</span> this<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">JsValue</span><span class="token punctuation">::</span><span class="token function">undefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>As you can see, this now uses the <code>this</code> parameter of the <code>say_hello()</code> function, which should be a
<code>Person</code>, but in JavaScript you can assign methods of some objects to others, so we must make sure
that on this invocation, we are indeed working with a <code>Person</code>, and return a <code>TypeError</code> if not.</p>
<p>Now, let's implement the <a href="https://docs.rs/boa_engine/latest/boa_engine/class/trait.Class.html"><code>Class</code></a> trait. This trait requires a <code>NAME</code> constant, which will
be the name of the global object property, and a <code>LENGTH</code> for the constructor (the number of
arguments, by default <code>0</code>). Then, it needs a <code>constructor()</code> function, which is a native function
that will be called when we do a <code>new Person()</code>, and an <code>init()</code> function, which will be called by
the <code>Context</code> when registering the function in the global scope. It will receive a
<a href="https://docs.rs/boa_engine/latest/boa_engine/class/struct.ClassBuilder.html"><code>ClassBuilder</code></a>, which allows you to add a method (both, static and <code>prototype</code>), a
<code>property</code>, also for both cases, accessor properties (to use <code>get</code> and <code>set</code>) and property
descriptors. You can also get a reference to the <code>Context</code> with the <code>ClasBuilder::context()</code> method,
in case you want to do anything fancier.</p>
<p>In this case, the constructor will take care of constructing the Rust <code>Person</code> data structure with
the two arguments it receives, and then register the <code>say_hello()</code> method:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span></span><span class="token punctuation">{</span><br>    <span class="token namespace">builtins<span class="token punctuation">::</span></span><span class="token class-name">JsArgs</span><span class="token punctuation">,</span><br>    <span class="token namespace">class<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Class</span><span class="token punctuation">,</span> <span class="token class-name">ClassBuilder</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">impl</span> <span class="token class-name">Class</span> <span class="token keyword">for</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> <span class="token constant">NAME</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword">str</span> <span class="token operator">=</span> <span class="token string">"Person"</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> <span class="token constant">LENGTH</span><span class="token punctuation">:</span> <span class="token keyword">usize</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// This is what is called when we construct a `Person` with the expression `new Person()`.</span><br>    <span class="token keyword">fn</span> <span class="token function-definition function">constructor</span><span class="token punctuation">(</span>_this<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">JsValue</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">JsValue</span><span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token keyword">Self</span><span class="token operator">></span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> name <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">get_or_undefined</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br>        <span class="token keyword">let</span> age <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">get_or_undefined</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_u32</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">if</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">..=</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            context<span class="token punctuation">.</span><span class="token function">throw_range_error</span><span class="token punctuation">(</span><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"invalid age `{age}`. Must be between 0 and 150"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token keyword">u8</span><span class="token punctuation">::</span><span class="token function">try_from</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"we already checked that it was in range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>            name<span class="token punctuation">:</span> name<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            age<span class="token punctuation">,</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>        <span class="token class-name">Ok</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">/// Here is where the class is initialized, to be inserted into the global object.</span><br>    <span class="token keyword">fn</span> <span class="token function-definition function">init</span><span class="token punctuation">(</span>class<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">ClassBuilder</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token punctuation">{</span><br>        class<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token string">"say_hello"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">Self</span><span class="token punctuation">::</span>say_hello<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>In order to register the class, you will need to use the
<a href="https://docs.rs/boa_engine/latest/boa_engine/struct.Context.html#method.register_global_class"><code>Context::register_global_class()</code></a> method:</p>
<pre class="language-rust"><code class="language-rust">context<br>    <span class="token punctuation">.</span><span class="token function">register_global_class</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token class-name">Person</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"could not register class"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>You can now adapt the JavaScript code:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>person<span class="token punctuation">.</span><span class="token function">say_hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>If you want to access the global object from Rust, you can use <code>Context::global_object()</code>, which
will return a <a href="https://docs.rs/boa_engine/latest/boa_engine/object/struct.JsObject.html"><code>JsObject</code></a>. In this object, you can use the
<a href="https://docs.rs/boa_engine/latest/boa_engine/object/struct.JsObject.html#method.get"><code>JsObject::get()</code></a> function to retrieve any property of the global object, such as
the <code>MY_PROJECT_VERSION</code> that you defined earlier, or any intrinsic, such as the <code>Date</code> object.</p>
<p>We are now in the process of creating Rust wrappers for all JavaScript intrinsics (<a href="https://github.com/boa-dev/boa/issues/2098">#2098</a>).
For example, you can create a <code>JsArray</code> from a <code>JsObject</code> to make it much easier to manipulate a
JavaScript array from Rust. In the following example, you'll create a new <code>reverseAppend()</code> global
function that will receive an array, reverse it, and then append the <em>&quot;My Project&quot;</em> string to it.
It will then get the <code>MY_PROJECT_VERSION</code> from the global object, and append it to the array.</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span></span><span class="token punctuation">{</span><br>    <span class="token namespace">builtins<span class="token punctuation">::</span></span><span class="token class-name">JsArgs</span><span class="token punctuation">,</span> <span class="token namespace">object<span class="token punctuation">::</span></span><span class="token class-name">JsArray</span><span class="token punctuation">,</span> <span class="token namespace">property<span class="token punctuation">::</span></span><span class="token class-name">Attribute</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">,</span> <span class="token class-name">JsResult</span><span class="token punctuation">,</span> <span class="token class-name">JsValue</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">/// Reverses an array and appends the `"My Project"` string and the `MY_PROJECT_VERSION` global</span><br><span class="token comment">/// property to it.</span><br><span class="token keyword">fn</span> <span class="token function-definition function">reverse_append</span><span class="token punctuation">(</span>_this<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">JsValue</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">JsValue</span><span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token class-name">JsValue</span><span class="token operator">></span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> arr <span class="token operator">=</span> args<br>        <span class="token punctuation">.</span><span class="token function">get_or_undefined</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">as_object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">ok_or_else</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> context<span class="token punctuation">.</span><span class="token function">construct_type_error</span><span class="token punctuation">(</span><span class="token string">"argument must be an array"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token class-name">JsArray</span><span class="token punctuation">::</span><span class="token function">from_object</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">let</span> reverse <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br>    reverse<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"My Project"</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">let</span> global_object <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">global_object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">let</span> version <span class="token operator">=</span> global_object<br>        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"MY_PROJECT_VERSION"</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">unwrap_or_default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    reverse<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>version<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br>    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>reverse<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> js_code <span class="token operator">=</span> <span class="token string">r#"<br>        let arr = ['a', 2, 5.4, "Hello"];<br>        reverseAppend(arr);<br>    "#</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Instantiate the execution context</span><br>    <span class="token keyword">let</span> <span class="token keyword">mut</span> context <span class="token operator">=</span> <span class="token class-name">Context</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    context<span class="token punctuation">.</span><span class="token function">register_global_property</span><span class="token punctuation">(</span><span class="token string">"MY_PROJECT_VERSION"</span><span class="token punctuation">,</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span> <span class="token class-name">Attribute</span><span class="token punctuation">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    context<span class="token punctuation">.</span><span class="token function">register_global_builtin_function</span><span class="token punctuation">(</span><span class="token string">"reverseAppend"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> reverse_append<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Parse the source code</span><br>    <span class="token keyword">match</span> context<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span>js_code<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token class-name">Ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token comment">// Pretty print the error</span><br>            <span class="token macro property">eprintln!</span><span class="token punctuation">(</span><span class="token string">"Uncaught {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>We are looking for contributors to implement the rest of the wrappers, and of course, we offer mentoring!</p>
<h2>What's coming next?</h2>
<p>Boa's development is ongoing non-stop. The next version, v0.17, is already looking pretty nice,
with some great enhancements. For example, <a href="https://github.com/jedel1043">@jedel1043</a> has created new
<a href="https://github.com/boa-dev/boa/pull/2283">&quot;lazy&quot; errors</a>, that are much easier to create and throw, since they don't need a
<code>Context</code>, and also enhance the performance. <a href="https://github.com/nekevss">@nekevss</a> has implemented a
<a href="https://github.com/boa-dev/boa/pull/2326">new wrapper</a> for <code>RegExp</code>, and <a href="https://github.com/anuvratsingh">@anuvratsingh</a> is working on a <code>Date</code>
<a href="https://github.com/boa-dev/boa/pull/2181">wrapper</a>. <a href="https://github.com/Razican">@razican</a> is working on a JavaScript &lt;-&gt; Rust
<a href="https://github.com/boa-dev/boa/pull/2276">conversion trait</a> and derive, that will allow you to convert a <code>JsValue</code> to a Rust
structure and back really easily:</p>
<pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">boa_derive<span class="token punctuation">::</span></span><span class="token class-name">TryFromJs</span><span class="token punctuation">;</span><br><span class="token keyword">use</span> <span class="token namespace">boa_engine<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token namespace">value<span class="token punctuation">::</span></span><span class="token class-name">TryFromJs</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">,</span> <span class="token class-name">JsResult</span><span class="token punctuation">,</span> <span class="token class-name">JsValue</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token attribute attr-name">#[derive(Debug, TryFromJs)]</span><br><span class="token attribute attr-name">#[allow(dead_code)]</span><br><span class="token keyword">struct</span> <span class="token type-definition class-name">TestStruct</span> <span class="token punctuation">{</span><br>    inner<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span><br>    hello<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span><br>    <span class="token attribute attr-name">#[boa(from_js_with = <span class="token string">"lossy_conversion"</span>, hello = <span class="token string">"myfriend"</span>)]</span><br>    my_float<span class="token punctuation">:</span> <span class="token keyword">i16</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> js <span class="token operator">=</span> <span class="token string">r#"<br>    let x = {<br>        inner: false,<br>        hello: "World",<br>        my_float: 2.9,<br>    };<br><br>    x;<br>    "#</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">let</span> <span class="token keyword">mut</span> context <span class="token operator">=</span> <span class="token class-name">Context</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">let</span> res <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">let</span> <span class="token keyword">str</span> <span class="token operator">=</span> <span class="token class-name">TestStruct</span><span class="token punctuation">::</span><span class="token function">try_from_js</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>res<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> context<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">map_err</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>e<span class="token closure-punctuation punctuation">|</span></span> e<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{str:?}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/// Converts the value lossly</span><br><span class="token keyword">fn</span> <span class="token function-definition function">lossy_conversion</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">JsValue</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">JsResult</span><span class="token operator">&lt;</span><span class="token keyword">i16</span><span class="token operator">></span> <span class="token punctuation">{</span><br>    <span class="token keyword">match</span> value <span class="token punctuation">{</span><br>        <span class="token class-name">JsValue</span><span class="token punctuation">::</span><span class="token class-name">Rational</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Ok</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">i16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token class-name">JsValue</span><span class="token punctuation">::</span><span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token operator">*</span>i <span class="token keyword">as</span> <span class="token keyword">i16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        _ <span class="token operator">=></span> context<span class="token punctuation">.</span><span class="token function">throw_type_error</span><span class="token punctuation">(</span><span class="token string">"cannot convert value to an i16"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>We love contributions, whether it's a documentation enhancement, fixing or implementing the
ECMAScript specification, adding new functionality / APIs or enhancing performance, we would love
to get new contributors on board! We are also looking for financial contributors, so feel free to
join our <a href="https://opencollective.com/boa">OpenCollective</a>.</p>

  </article>

</div>

      </div>
    </div>

    <script src="https://opencollective.com/boa/banner.js"></script>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/boa-dev">
              <span class="icon icon--github">
                <svg viewBox="0 0 16 16">
                  <path
                    fill="#828282"
                    d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"
                  />
                </svg>
              </span>

              <span class="username">boa-dev</span>
            </a>
          </li>
           
          <li>
            <a href="https://twitter.com/boa_engine">
              <span class="icon icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path
                    fill="#828282"
                    d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"
                  />
                </svg>
              </span>

              <span class="username">boa_engine</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <p class="text">The blog and website for Boa</p>
      </div>

      <div class="footer-col footer-col-1">
        <div class="toggle-mode">
          <div class="icon">
            <i class="font font-sun-o" aria-hidden="true"></i>
          </div>
          <div class="toggle-switch">
            <label class="switch" title="Toggle Light/Dark Mode">
              <input
                type="checkbox"
                role="switch"
                id="toggleTheme"
                onclick="applyTheme()"
              />
              <div class="slider round"></div>
            </label>
          </div>
          <div class="icon">
            <i class="font font-moon-o" aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>

</html>
