/**
* Clearfix
*/
@mixin clearfix {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}
@mixin default {
  /**
 * Reset some basic elements
 */
  body,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  hr,
  dl,
  dd,
  ol,
  ul,
  figure {
    margin: 0;
    padding: 0;
  }

  /**
 * Basic styling
 */
  body {
    font-family: $base-font-family;
    font-size: $base-font-size;
    line-height: $base-line-height;
    font-weight: 300;
    color: $text-color;
    background-color: $background-color;
  }

  /**
 * Set `margin-bottom` to maintain vertical rhythm
 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  ul,
  ol,
  dl,
  figure,
  table,
  %vertical-rhythm {
    margin-bottom: calc(calc($spacing-unit / 2));
  }

  /**
 * Images
 */
  img {
    max-width: 100%;
    vertical-align: middle;
  }

  /**
 * Figures
 */
  figure > img {
    display: block;
  }

  figcaption {
    font-size: $small-font-size;
  }

  /**
 * Lists
 */
  ul,
  ol {
    margin-left: $spacing-unit;
  }

  li {
    > ul,
    > ol {
      margin-bottom: 0;
    }
  }

  /**
 * Headings
 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 300;
    color: $text-color;
  }

  /**
 * Links
 */
  a {
    color: $brand-color;
    text-decoration: none;

    &:visited {
      color: darken($brand-color, 15%);
    }

    &:hover {
      color: $text-color;
      text-decoration: underline;
    }
  }

  /**
 * Blockquotes
 */
  blockquote {
    color: $grey-color;
    border-left: 4px solid $grey-color-light;
    padding-left: calc(calc($spacing-unit / 2));
    font-size: 18px;
    letter-spacing: -1px;
    font-style: italic;

    > :last-child {
      margin-bottom: 0;
    }
  }

  /**
 * Code formatting
 */
  pre,
  code {
    font-size: 15px;
    border: 1px solid $grey-color-light;
    border-radius: 3px;
  }

  code {
    padding: 1px 5px;
  }

  pre {
    padding: 8px 12px;
    overflow-x: scroll;

    > code {
      border: 0;
      padding-right: 0;
      padding-left: 0;
    }
  }

  /**
 * Wrapper
 */
  .wrapper {
    max-width: calc(800px - (#{$spacing-unit} * 2));
    margin-right: auto;
    margin-left: auto;
    padding-right: $spacing-unit;
    padding-left: $spacing-unit;

    @include media-query($on-laptop) {
      max-width: calc(800px - (#{$spacing-unit}));
      padding-right: calc(calc($spacing-unit / 2));
      padding-left: calc(calc($spacing-unit / 2));
    }

    @include media-query-min($on-desktop) {
      max-width: calc(1200px - (#{$spacing-unit}));
      padding-right: calc(calc($spacing-unit / 2));
      padding-left: calc(calc($spacing-unit / 2));
    }
  }

  /**
   * Icons
   */
  .icon {
    > svg {
      display: inline-block;
      width: 16px;
      height: 16px;
      vertical-align: middle;

      path {
        fill: $grey-color;
      }
    }
  }

  /**
   * Text styling
   */
  strong,
  b {
    font-weight: bold;
  }

  /**
    * Code higlighting
    */
  .highlight {
    background-color: #eef;
  }
}

@mixin dark {
  /**
 * Reset some basic elements
 */
  body,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  hr,
  dl,
  dd,
  ol,
  ul,
  figure {
    margin: 0;
    padding: 0;
  }

  /**
  * Basic styling
  */
  body {
    font-family: $base-font-family;
    font-size: $base-font-size;
    line-height: $base-line-height;
    font-weight: 300;
    color: $dark-text-color;
    background-color: $dark-background-color;
  }

  /**
  * Set `margin-bottom` to maintain vertical rhythm
  */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  ul,
  ol,
  dl,
  figure,
  table,
  %vertical-rhythm {
    margin-bottom: calc(calc($spacing-unit / 2));
  }

  /**
  * Images
  */
  img {
    max-width: 100%;
    vertical-align: middle;
  }

  /**
  * Figures
  */
  figure > img {
    display: block;
  }

  figcaption {
    font-size: $small-font-size;
  }

  /**
  * Lists
  */
  ul,
  ol {
    margin-left: $spacing-unit;
  }

  li {
    > ul,
    > ol {
      margin-bottom: 0;
    }
  }

  /**
  * Headings
  */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 300;
    color: #fff;
  }

  /**
  * Links
  */
  a {
    color: #0096cf;
    text-decoration: none;

    &:visited {
      color: #005d81;
    }

    &:hover {
      color: #0096cf;
      text-decoration: underline;
    }
  }

  /**
  * Blockquotes
  */
  blockquote {
    color: inherit;
    border-left: 4px solid #5c6773;
    padding-left: calc($spacing-unit / 2);
    font-size: 18px;
    letter-spacing: -1px;
    font-style: italic;

    > :last-child {
      margin-bottom: 0;
    }
  }

  /**
  * Code formatting
  */
  pre,
  code {
    font-size: 15px;
    border: none;
    border-radius: 3px;
    // background-color: #191f26;
  }

  code {
    padding: 0 0.2em;
  }

  pre {
    padding: 8px 12px;
    overflow-x: auto;
    background: #0f1419;

    > code {
      border: 0;
      padding-right: 0;
      padding-left: 0;
    }
  }

  /**
  * Wrapper
  */
  .wrapper {
    max-width: calc(800px - (#{$spacing-unit} * 2));
    margin-right: auto;
    margin-left: auto;
    padding-right: $spacing-unit;
    padding-left: $spacing-unit;

    @include media-query($on-laptop) {
      max-width: calc(800px - (#{$spacing-unit}));
      padding-right: calc(calc($spacing-unit / 2));
      padding-left: calc(calc($spacing-unit / 2));
    }

    @include media-query-min($on-desktop) {
      max-width: calc(1200px - (#{$spacing-unit}));
      padding-right: calc(calc($spacing-unit / 2));
      padding-left: calc(calc($spacing-unit / 2));
    }
  }

  /**
  * Clearfix
  */
  %clearfix {
    &:after {
      content: "";
      display: table;
      clear: both;
    }
  }

  /**
  * Icons
  */
  .icon {
    > svg {
      display: inline-block;
      width: 16px;
      height: 16px;
      vertical-align: middle;

      path {
        fill: $grey-color;
      }
    }
  }

  /**
  * Text styling
  */
  strong,
  b {
    font-weight: bold;
  }

  /**
 * Code higlighting
 */
  .highlight {
    background-color: #191f26;
    border: none;
  }
}

// Order of specificity

// Start with default
@include default();

// Then system dark mode
@media (prefers-color-scheme: dark) {
  @include dark();
}

// Then toggle override of default/dark

html.dark {
  @include dark();
}

html.default {
  @include default();
}
