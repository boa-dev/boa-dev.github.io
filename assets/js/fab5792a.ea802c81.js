"use strict";(self.webpackChunkboajs_dev=self.webpackChunkboajs_dev||[]).push([[1080],{6612:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O});var a=t(781),n=t(6540);const r={versionSelector:"versionSelector_Jach",versionCard:"versionCard_H8dz",versionTitle:"versionTitle_Fy_5"};var i=t(4848);function c(e){return(0,i.jsx)("div",{className:r.versionSelector,children:e.availableVersions.map((s=>(0,i.jsx)(l,{setNewVersion:e.setNewVersion,version:s},s.tagName)))})}function l(e){return(0,i.jsxs)("div",{className:r.versionCard,children:[(0,i.jsx)("div",{className:r.versionTitle,children:(0,i.jsx)("b",{children:"Release: "+e.version.tagName})}),(0,i.jsx)("button",{className:"button button--primary button--sm",value:e.version.tagName,onClick:()=>e.setNewVersion(e.version),children:"View Results"})]})}let o=function(e){return e[e.Passed=0]="Passed",e[e.Ignored=1]="Ignored",e[e.Failed=2]="Failed",e[e.Panic=3]="Panic",e}({}),d=function(e){return e[e.es5=5]="es5",e[e.es6=6]="es6",e[e.es7=7]="es7",e[e.es8=8]="es8",e[e.es9=9]="es9",e[e.es10=10]="es10",e[e.es11=11]="es11",e[e.es12=12]="es12",e[e.es13=13]="es13",e[e.ESNext=14]="ESNext",e}({});function u(e){const s={name:e.n,stats:m(e.a)};return e.av&&(s.versionedStats=function(e){return{es5:m(e.es5),es6:m(e.es6),es7:m(e.es7),es8:m(e.es8),es9:m(e.es9),es10:m(e.es10),es11:m(e.es11),es12:m(e.es12),es13:m(e.es13)}}(e.av)),e.s&&(s.suites=e.s.map((e=>u(e)))),e.t&&(s.tests=e.t.map((e=>function(e){return{name:e.n,edition:h(e.v),strict:Boolean(e.s),result:v(e.r)}}(e)))),e.f&&(s.features=Array(e.f)),s}function m(e){return{total:e.t,passed:e.o,ignored:e.i,panic:e.p}}function h(e){switch(Number(e)){case 5:return d.es5;case 6:return d.es6;case 7:return d.es7;case 8:return d.es8;case 9:return d.es9;case 10:return d.es10;case 11:return d.es11;case 12:return d.es12;case 13:return d.es13;default:return d.ESNext}}function v(e){switch(String(e)){case"O":return o.Passed;case"I":return o.Ignored;case"P":return o.Panic;default:return o.Failed}}var j=t(1107);const x={bannerSection:"bannerSection_CQlB",cardContainer:"cardContainer_de9X"};function f(e){return(0,i.jsx)("div",{className:x.bannerSection,children:e.focusItems.map((s=>(0,i.jsx)(N,{setNewVersion:e.setNewVersion,item:s},s.tagName)))})}function N(e){const[s,t]=n.useState(null);return n.useEffect((()=>{(async()=>{const s=await fetch(e.item.fetchUrl);return(await s.json()).r.a})().then((e=>t(m(e))))}),[]),(0,i.jsx)("div",{className:x.cardContainer,children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:"main"===e.item.tagName?(0,i.jsx)(j.A,{as:"h3",children:"main Branch Results"}):(0,i.jsx)(j.A,{as:"h3",children:"Release "+e.item.tagName+" Results"})}),s?(0,i.jsxs)("div",{className:"card__body",children:[(0,i.jsx)("div",{children:(0,i.jsx)("span",{children:"Total: "+s.total})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:"Passed: "+s.passed})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{style:{color:"var(--ifm-color-warning)"},children:"Ignored: "+s.ignored})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{style:{color:"var(--ifm-color-danger)"},children:"Failed: "+(s.total-s.passed-s.ignored)})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{style:{color:"var(--ifm-color-danger)"},children:"\u26a0Panics: "+s.panic+"\u26a0"})})]}):null,(0,i.jsx)("div",{className:"card__footer",children:(0,i.jsx)("button",{className:"button button--block button--primary",onClick:()=>e.setNewVersion(e.item),children:"View Results"})})]})})}const g={suiteSelector:"suiteSelector_IaVZ",suiteCard:"suiteCard_kP4J",suiteCardTitle:"suiteCardTitle_aqXE",suiteCardResults:"suiteCardResults_cmIK"};function p(e){return(0,i.jsx)("div",{className:g.suiteSelector,children:e.suites.map((s=>(0,i.jsx)(b,{suite:s,esFlag:e.esFlag,navigateToSuite:e.navigateToSuite},s.name)))})}function b(e){return(0,i.jsxs)("div",{className:g.suiteCard,onClick:()=>e.navigateToSuite(e.suite.name),children:[(0,i.jsx)("div",{className:g.suiteCardTitle,children:(0,i.jsx)("b",{children:e.suite.name})}),(0,i.jsx)(_,{testResults:e.esFlag&&e.suite.versionedStats[e.esFlag]?e.suite.versionedStats[e.esFlag]:e.suite.stats})]})}function _(e){return(0,i.jsx)("div",{className:g.suiteCardResults,children:(0,i.jsxs)("p",{children:[(0,i.jsxs)("span",{style:{color:"var(--ifm-color-success)"},children:[e.testResults.passed," "]}),"/"," ",(0,i.jsxs)("span",{style:{color:"var(--ifm-color-warning)"},children:[e.testResults.ignored," "]}),"/"," ",(0,i.jsx)("span",{style:{color:"var(--ifm-color-danger)"},children:`${e.testResults.total-e.testResults.passed-e.testResults.ignored} (${e.testResults.panic}\u26a0)`})]})})}const C={testGridCard:"testGridCard_qvsW",gridStyle:"gridStyle_FWR9",testGridItem:"testGridItem_EKGp",passed:"passed_lYFG",ignored:"ignored_JJaN",failed:"failed_jtUl"};function S(e){const s="card__body "+C.gridStyle;return(0,i.jsx)("div",{className:C.testGridCard,children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)(j.A,{as:"h3",children:e.suite.name})}),(0,i.jsx)("div",{className:s,children:(0,i.jsx)(w,{tests:e.suite.tests,esFlag:e.esFlag,selectTest:e.selectTest})})]})})}function w(e){return(0,i.jsx)(i.Fragment,{children:e.esFlag?e.tests.filter((s=>s.edition<=d[e.esFlag])).map((s=>(0,i.jsx)(y,{test:s,selectTest:e.selectTest},s.strict?s.name+"-strict":s.name))):e.tests.map((s=>(0,i.jsx)(y,{test:s,selectTest:e.selectTest},s.strict?s.name+"-strict":s.name)))})}function y(e){let s;switch(e.test.result){case o.Passed:s=C.testGridItem+" "+C.passed;break;case o.Ignored:s=C.testGridItem+" "+C.ignored;break;default:s=C.testGridItem+" "+C.failed}return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:s,onClick:()=>e.selectTest(e.test.name+".js"),title:e.test.strict?"(strict) "+e.test.name+".js":e.test.name+".js"})})}var T=t(8774);const F={testViewerCard:"testViewerCard_Hw2J",editorContainer:"editorContainer_NG8N",testTitle:"testTitle_Pk2w",headerOptions:"headerOptions_bMa0",testEditor:"testEditor_JfxJ"};var V=t(8553);function k(e){const[s,t]=n.useState(null);n.useEffect((()=>{(async e=>{const s=await fetch(e);return await s.text()})("https://raw.githubusercontent.com/tc39/test262/"+(e.t262Path+"/"+e.testName)).then((e=>t(e)))}),[e.testName]);return(0,i.jsx)("div",{className:F.testViewerCard,children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("div",{className:"card__header",children:[(0,i.jsx)(j.A,{as:"h3",className:F.testTitle,children:"Test: "+e.testName}),(0,i.jsxs)("div",{className:F.headerOptions,children:[(0,i.jsx)("button",{className:"button button--primary button--sm",onClick:e.backToGrid,children:"Back"}),(0,i.jsx)(T.A,{to:(()=>{const s=e.t262Path.split("/");return"https://github.com/tc39/test262/blob/main/"+s.slice(1,s.length).join("/")+"/"+e.testName})(),children:"Visit Repo"})]})]}),(0,i.jsx)("div",{className:"card__body",style:{overflow:"auto"},children:(0,i.jsx)("div",{className:F.editorContainer,children:(0,i.jsx)(V.KE,{className:F.testEditor,theme:"vs-dark",language:"javascript",options:{minimap:{enabled:!1}},value:s})})})]})})}const P={dataContainer:"dataContainer_B1Vt"};function I(e){const[s,t]=n.useState(null);n.useEffect((()=>{t(null)}),[e.t262Path]);return(0,i.jsx)("div",{className:P.dataContainer,children:s?(0,i.jsx)(k,{testName:s,t262Path:e.t262Path,backToGrid:()=>{t(null)}}):(0,i.jsx)(S,{...e,selectTest:e=>{t(e)}})})}const E={suiteDisplay:"suiteDisplay__VqN"};function R(e){return(0,i.jsxs)("div",{className:E.suiteDisplay,children:[e.currentSuite.suites?(0,i.jsx)(p,{suites:e.currentSuite.suites,esFlag:e.esFlag,navigateToSuite:e.navigateToSuite}):null,e.currentSuite.tests?(0,i.jsx)(I,{suite:e.currentSuite,esFlag:e.esFlag,t262Path:e.t262Path}):null]})}const G={resultsDisplay:"resultsDisplay_Mrfa",resultsNav:"resultsNav_Dp3n",navLink:"navLink_t6a5",dropdownContainer:"dropdownContainer_HXCv"};function A(e){const[s,t]=n.useState(null),[a,r]=n.useState([e.activeVersion.tagName]),[c,l]=n.useState(null),[o,d]=n.useState(null);n.useEffect((()=>{m(e.activeVersion).then((e=>{const s={commit:(a=e).c,test262Commit:a.u,results:u(a.r)};var a;t(s),l(s.results)})),r([e.activeVersion.tagName])}),[e.activeVersion]),n.useEffect((()=>{if(!s)return;let t=null;for(const n of a){n===e.activeVersion.tagName&&(t=s.results);for(const e of t.suites)e.name===n&&(t=e)}l(t)}),[a]);const m=async e=>{const s=await fetch(e.fetchUrl);return await s.json()};return(0,i.jsxs)("div",{className:G.resultsDisplay,children:[(0,i.jsx)(D,{navPath:a,sliceNavToIndex:e=>{r((s=>[...s.slice(0,e)]))},setEcmaScriptFlag:e=>{d(e||null)}}),s&&c?(0,i.jsx)(R,{currentSuite:c,esFlag:o,t262Path:[s.test262Commit,"test",...a.slice(1,a.length)].join("/"),navigateToSuite:e=>{r((s=>[...s,e]))}}):null]})}function D(e){return(0,i.jsxs)("div",{className:G.resultsNav,children:[(0,i.jsx)(B,{setEcmaScriptFlag:e.setEcmaScriptFlag}),(0,i.jsx)("nav",{"aria-label":"breadcrumbs",style:{padding:"0.25em"},children:(0,i.jsx)("ul",{className:"breadcrumbs",children:e.navPath.map(((s,t,a)=>(0,i.jsx)(J,{itemName:s,index:t,sliceNavToIndex:e.sliceNavToIndex,breadcrumbValue:t+1===a.length?"breadcrumbs__item breadcrumbs__item--active":"breadcrumbs__item"},s)))})})]})}function J(e){return(0,i.jsx)("li",{className:e.breadcrumbValue,children:(0,i.jsx)("a",{className:G.navLink,onClick:()=>e.sliceNavToIndex(e.index+1),children:e.itemName})})}function B(e){const[s,t]=n.useState("");return(0,i.jsx)("div",{className:G.dropdownContainer,children:(0,i.jsxs)("select",{value:s,onChange:s=>{t(s.target.value),e.setEcmaScriptFlag(s.target.value)},children:[(0,i.jsx)("option",{value:"",children:"All"}),Object.keys(d).filter((e=>isNaN(Number(e)))).map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})})}const L={mainLayout:"mainLayout_xlEm"};function O(){const[e,s]=n.useState(null),[t,r]=n.useState(null);n.useEffect((()=>{const e={tagName:"main",fetchUrl:"https://boajs.dev/boa/test262/refs/heads/main/latest.json"};(async()=>{const e=await fetch("https://api.github.com/repos/boa-dev/boa/releases");return(await e.json()).filter((e=>(e=>{const s=e.split(".");return s[0].includes("v")&&parseInt(s[0].replace("v",""))>0||10<=parseInt(s[1])})(e.tag_name))).map((e=>({tagName:e.tag_name,fetchUrl:`https://boajs.dev/boa/test262/refs/tags/${e.tag_name}/latest.json`})))})().then((s=>r([e,...s])))}),[]);const l=e=>{s(e)};return(0,i.jsx)(a.A,{title:"Conformance",description:"Boa Conformance Page",children:(0,i.jsxs)("main",{className:L.mainLayout,children:[t?(0,i.jsx)(c,{availableVersions:t,setNewVersion:l}):null,t?e?(0,i.jsx)(A,{activeVersion:e},e.tagName):(0,i.jsx)(f,{focusItems:t.slice(0,2),setNewVersion:l}):null]})})}}}]);