"use strict";(self.webpackChunkboajs_dev=self.webpackChunkboajs_dev||[]).push([[2101],{5699:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var s=n(4848),o=n(8453);const i={sidebar_position:2},r="Testing",c={id:"contributing/testing",title:"Testing",description:"Boa provides its own test suite, as well as a way to run the official ECMAScript conformance test suite.",source:"@site/docs/contributing/testing.md",sourceDirName:"contributing",slug:"/contributing/testing",permalink:"/docs/contributing/testing",draft:!1,unlisted:!1,editUrl:"https://github.com/boa-dev/boa-dev.github.io/tree/main/docs/docs/contributing/testing.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"infoSidebar",previous:{title:"Contributing to Boa",permalink:"/docs/contributing/"},next:{title:"Debugging",permalink:"/docs/category/debugging"}},a={},u=[{value:"Boa&#39;s tests suite",id:"boas-tests-suite",level:2},{value:"ECMAScript&#39;s <code>test262</code> Conformance Test Suite",id:"ecmascripts-test262-conformance-test-suite",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(t.p,{children:"Boa provides its own test suite, as well as a way to run the official ECMAScript conformance test suite."}),"\n",(0,s.jsx)(t.h2,{id:"boas-tests-suite",children:"Boa's tests suite"}),"\n",(0,s.jsxs)(t.p,{children:["Boa's test suite is implemented in the various ",(0,s.jsx)(t.code,{children:"tests.rs"})," files throughout the project and driven by Rust's\ntesting capabilities. So to run the Boa test suite, you can just run the normal ",(0,s.jsx)(t.code,{children:"cargo test"}),"."]}),"\n",(0,s.jsxs)(t.h2,{id:"ecmascripts-test262-conformance-test-suite",children:["ECMAScript's ",(0,s.jsx)(t.code,{children:"test262"})," Conformance Test Suite"]}),"\n",(0,s.jsx)(t.p,{children:"The ECMAScript test262 is a git submodule of tc39's current version of the test suite and represents the implementation\nconformance."}),"\n",(0,s.jsx)(t.p,{children:"To run the full ECMAScript test suite, you can use the below command in Boa's root directory:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"cargo run --release --bin boa_tester -- run -v 2> error.log\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Note that this requires the ",(0,s.jsx)(t.code,{children:"test262"})," submodule to be checked out, so you will need to run the following first:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"git submodule init && git submodule update\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This will run the test suite in verbose mode (you can remove the ",(0,s.jsx)(t.code,{children:"-v"})," part to run it in non-verbose mode),\nand output nice colorings in the terminal. It will also output any panic information into the ",(0,s.jsx)(t.code,{children:"error.log"})," file."]}),"\n",(0,s.jsxs)(t.p,{children:["You can get some more verbose information that tells you the exact name of each test that is being run, useful\nfor debugging purposes by setting up the verbose flag twice, for example ",(0,s.jsx)(t.code,{children:"-vv"}),". If you want to know the output of\neach test that is executed, you can use the triple verbose (",(0,s.jsx)(t.code,{children:"-vvv"}),") flag."]}),"\n",(0,s.jsxs)(t.p,{children:["If you want to only run one sub-suite or even one test (to just check if you fixed/broke something specific),\nyou can do it with the ",(0,s.jsx)(t.code,{children:"-s"})," parameter, and then passing the path to the sub-suite or test that you want to run. Note\nthat the ",(0,s.jsx)(t.code,{children:"-s"})," parameter value should be a path relative to the ",(0,s.jsx)(t.code,{children:"test262"})," directory. For example, to run the number\ntype tests, use ",(0,s.jsx)(t.code,{children:"-s test/language/types/number"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Finally, if you're using the verbose flag and running a sub suite with a small number of tests, then the output will\nbe more readable if you disable parallelism with the ",(0,s.jsx)(t.code,{children:"-d"})," flag. All together it might look something like:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"cargo run --release --bin boa_tester -- run -vv -d -s test/language/types/number 2> error.log\n"})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var s=n(6540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);